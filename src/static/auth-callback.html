<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Callback</title>
    <!-- <link rel="stylesheet" href="style.css" /> -->
    <script src="/assets/oidc-client-ts.min.js"
        type="application/javascript"></script>
</head>

<body>
    <script>
        // document.addEventListener('DOMContentLoaded', function() {
        //     // Check if Oidc is loaded correctly
        //     if (!window.Oidc || !Oidc.UserManager) {
        //         console.error('OIDC client library did not load correctly');
        //         return;
        //     }

        //     // Define the OIDC configuration
        //     const config = {
        //         authority: 'https://accounts.google.com', // Google OIDC authority
        //         client_id: '52855828166-rf80dpnioksgh8ck9l3s5sdj92rs27qc.apps.googleusercontent.com',
        //         redirect_uri: `${window.location.origin + window.location.pathname}/auth-callback`,
        //         response_type: 'code', // 'code' for Authorization Code Flow with PKCE
        //         scope: 'openid profile email',
        //         response_mode: 'query',
        //         stateStore: new WebStorageStateStore({ store: window.sessionStorage }) 
        //     };

        //     // Create a new UserManager instance
        //     const oidcManager = new Oidc.UserManager(config);

        //     // Process the authorization callback
        //     oidcManager.signinRedirectCallback().then(user => {
        //         console.log('User logged in:', user);
        //         window.location.href = '/';
        //     }).catch(error => {
        //         console.error('Error during callback handling:', error);
        //         window.location.href = '/';
        //     });
        // });

        
    </script>
</body>

</html>